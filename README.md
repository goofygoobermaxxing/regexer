**INFO: This README was generated by an AI assistant (Google Gemini) based on the provided Python code. It aims to be accurate but should be reviewed and adapted as needed.**

# Regex Replacer - Bulk File Content Modifier

## Table of Contents
1.  [Description](#description)
2.  [Features](#features)
3.  [Requirements](#requirements)
4.  [How to Run](#how-to-run)
5.  [Usage Guide](#usage-guide)
    * [Selecting Target Directory](#selecting-target-directory)
    * [Inputting Regex Pairs](#inputting-regex-pairs)
    * [Managing the Regex List](#managing-the-regex-list)
    * [Output Directory Options](#output-directory-options)
    * [Executing Replacements](#executing-replacements)
    * [Placeholder Text](#placeholder-text)
6.  [File Handling](#file-handling)
7.  [Error Handling](#error-handling)
8.  [Example Test Data](#example-test-data)

## Description
The Regex Replacer is a desktop application built with Python and Tkinter that allows users to perform batch search and replace operations on the content of multiple text-based files within a specified directory using regular expressions. It provides a graphical user interface (GUI) for ease of use.

This tool is useful for developers, data analysts, writers, or anyone needing to make consistent, pattern-based changes across a collection of files.

## Features
* **Graphical User Interface:** Easy-to-use interface built with Tkinter.
* **Directory Selection:** Choose a target directory containing files to process.
* **Regex Input:** Define multiple search and replace regular expression pairs.
* **Regex List Management:** Add, delete individual, or delete all regex pairs from the processing list.
* **Output Directory Configuration:**
    * Choose a custom output directory.
    * Defaults to a "regex\_replacer\_outputs" folder in the user's home directory if no custom path is set.
    * Creates a unique, timestamped subfolder for each execution run to preserve original files and track changes.
* **Selective File Processing:** Processes files based on a predefined list of common text-based file extensions (e.g., .txt, .md, .py, .json, .html, etc.).
* **Placeholder Text:** Input fields use placeholder text for guidance, which is cleared on focus.
* **User Feedback:** Provides informational messages, warnings, and error dialogs.
* **UTF-8 Encoding:** Reads and writes files using UTF-8 encoding, with error replacement for problematic characters during reads.

## Requirements
* Python 3.x
* Tkinter (usually included with standard Python installations)
* No external libraries beyond the standard Python library are required for the provided code.

## How to Run
1.  Ensure you have Python 3 installed on your system.
2.  Save the provided Python code as a `.py` file (e.g., `regex_replacer_app.py`).
3.  Open a terminal or command prompt.
4.  Navigate to the directory where you saved the file.
5.  Run the script using the command:
    ```bash
    python regex_replacer_app.py
    ```
6.  The application window should appear.

## Usage Guide

### Selecting Target Directory
1.  Click the "Choose directory" button under the "Choose target directory for replacements" section.
2.  A dialog will open, allowing you to browse and select the folder containing the files you want to modify.
3.  The selected path will be displayed in the "Path:" label.
    * If no directory is selected, the path label will show "No target directory selected".

### Inputting Regex Pairs
1.  **Search regex:** In the "Search regex:" field, enter the regular expression pattern you want to find in the files.
2.  **Replace regex:** In the "Replace regex:" field, enter the text or regex pattern (including backreferences like `\1` or `\g<name>`) that should replace the found search pattern. If left as the placeholder or empty, it will be treated as an empty string for replacement (effectively deleting the matched search pattern).
3.  Click the "Add" button. The pair will be added to the listbox below, formatted as `S: 'your_search_regex' -> R: 'your_replace_regex'`.
    * The search regex field cannot be empty or just the placeholder text.

### Managing the Regex List
* **View Added Pairs:** All added regex pairs are displayed in the listbox.
* **Delete Selection:** Select a regex pair from the listbox and click "Delete selection" to remove it.
* **Delete All:** Click "Delete all" to clear all regex pairs from the list. A confirmation dialog will appear.

### Output Directory Options
1.  **Default Output:** By default, processed files (if modified) will be saved in a subfolder within `[Your User Home Directory]/regex_replacer_outputs`. For example: `C:\Users\YourName\regex_replacer_outputs\run_YYYY-MM-DD_HH-MM-SS\`.
    The specific default base path is displayed in the UI.
2.  **Choose Custom Output Directory:**
    * Click the "Choose output directory" button under the "Output Directory Options" section.
    * Select a base folder where you want the run-specific output subfolder to be created.
    * The selected path will be displayed. If you cancel or don't choose, it will revert to using the default behavior.
3.  A new subfolder with a timestamp (e.g., `run_2025-05-09_14-15-30`) will be created within the chosen or default output base directory for each execution run. This prevents overwriting original files and previous run outputs.

### Executing Replacements
1.  Ensure you have selected a target directory and added at least one regex pair.
2.  Click the "Execute" button.
3.  The application will iterate through all viable files in the target directory.
4.  For each file, it will apply all regex pairs from the list sequentially to the file's content.
5.  If a file's content is modified after applying the regex operations, a new version of that file (with the same name) will be saved in the run-specific output subfolder. Files that are processed but not changed are not copied to the output folder.
6.  A summary message will be displayed upon completion, indicating the number of files processed, modified, and the output location.

### Placeholder Text
Input fields for directory paths and regex patterns use grey placeholder text to guide you. This text automatically disappears when you click into the field and reappears if the field is left empty and loses focus.

## File Handling
* **Viable File Extensions:** The application processes files with the following extensions:
    `.txt`, `.md`, `.json`, `.csv`, `.xml`, `.html`, `.htm`, `.py`, `.js`, `.css`, `.yaml`, `.yml`, `.ini`, `.log`, `.rtf`, `.tex`, `.java`, `.c`, `.cpp`, `.h`, `.hpp`, `.sh`, `.ps1`, `.bat`, `.sql`, `.config`, `.conf`, `.properties`.
    Extension matching is case-insensitive.
* **Output Structure:** Modified files are saved in a new, timestamped subfolder within the chosen/default output directory for each run (e.g., `.../regex_replacer_outputs/run_2025-05-09_14-20-00/your_file.txt`). Original files in the target directory are **not** modified.
* **Encoding:** Files are read and written using `UTF-8` encoding. When reading, `errors='replace'` is used to handle potential decoding issues by replacing problematic characters.

## Error Handling
The application provides feedback for common issues:
* Missing target directory or regex pairs before execution.
* Invalid target directory path.
* Errors creating output directories.
* Errors during file reading or writing.
* Errors specific to an invalid regular expression pattern (a warning is shown, and that specific regex is skipped for the current file).

## Example Test Data
To test the application, you can create a folder with several text-based files (e.g., `.txt`, `.md`). Populate these files with various text patterns.

For instance, you could have files containing:
* Dates in different formats (e.g., "2025-05-09", "05/09/2025").
* Placeholder words like "TODO", "FIXME", "TEMP_VALUE".
* Specific URLs or email addresses that need updating.
* Old product names or terminology.

Then, create regex pairs in the application to target these patterns for replacement.
Refer to the example Markdown files generated in the previous interaction if available.
